	org $0000cf82
start:
	andi.w  #$ff,d4
	move.w  d4,d1
	andi.w  #$7,d4
	lsr.w   #3,d1
	lsl.w   #5,d1
	add.w   d4,d1
	add.w   d4,d1
	or.w    d3,d1
	ori.w   #-$8000,d1
	addi.w  #$4a7,d1
	move.l  d7,d2
	bsr.b   $cfce
	addq.w  #$1,d1
	moveq   #$2,d0
	bsr.w   $b8c6
	bsr.b   $cfce
	addi.w  #$f,d1
	move.l  d2,d7
	move.w  #$80,d0
	bsr.w   $b8dc
	bsr.b   $cfce
	addq.w  #$1,d1
	moveq   #$2,d0
	bsr.w   $b8c6
	bsr.b   $cfce
	move    (sp)+,sr
	movem.l (sp)+,d0-d3/d7
	rts     
	moveq   #0,d0
	move.w  d7,d0
	lsl.l   #2,d0
	lsr.w   #2,d0
	ori.w   #$4000,d0
	swap    d0
	move.l  d0,$c00004.l
	move.w  d1,$c00000.l
	rts     
	movem.l d0-d6,-(sp)
	move.w  #$4000,d3
	move.w  d0,d5
	move.w  d1,d6
	move.b  (a0)+,d4
	beq.b   $d02c
	cmpi.b  #-$1,d4
	beq.b   $d016
	cmpi.b  #-$2,d4
	beq.b   $d022
	cmpi.b  #-$3,d4
	beq.b   $cff6
	subq.b  #$1,d4
	bsr.w   $cf74
	addq.w  #$2,d0
	bra.b   $cff6
	move.w  d5,d0
	addq.w  #$2,d6
	andi.w  #$1f,d6
	move.w  d6,d1
	bra.b   $cff6
	move.b  (a0)+,d3
	andi.w  #$ff,d3
	lsl.w   #8,d3
	bra.b   $cff6
	movem.l (sp)+,d0-d6
	rts     